(this.webpackJsonpwhoopsies=this.webpackJsonpwhoopsies||[]).push([[0],{122:function(e,t,i){},531:function(e,t,i){"use strict";i.r(t);var n,a=i(0),o=i.n(a),s=i(11),r=i.n(s),c=(i(122),i(59)),l=i(14),d=Object(a.createContext)(null),f=i(566),u=i(570),b=i(18),j=i(569),O=i(19),h=Object(O.b)(j.a)(n||(n=Object(b.a)(["\n  margin-right: 1em;\n"])));var p=i(5);function x(e){var t=e.fields,i=e.handleSubmit,n={TextField:h}.TextField,o=Object(a.useContext)(d),s=t.map((function(e){switch(e.fieldType){case"text":return Object(p.jsx)(n,{label:e.fieldLabel,variant:"filled",size:"small",value:e.fieldValue,onChange:function(t){return o(e.fieldId,t)}},e.fieldId);case"select":return Object(p.jsx)(n,{select:!0,label:e.fieldLabel,variant:"filled",size:"small",value:e.fieldValue,onChange:function(t){return o(e.fieldId,t)},children:e.fieldOptions.map((function(e){return Object(p.jsx)(u.a,{value:e,children:e},e)}))},e.fieldId);default:return null}}));return Object(p.jsxs)("form",{onSubmit:function(e){return i(e)},children:[s,Object(p.jsx)(f.a,{variant:"contained",color:"primary",type:"submit",size:"large",children:"Create"})]})}x.defaultProps={fields:[],handleSubmit:function(){}};var m,T,v,g,S=i(567),w=i(104),I=i.n(w),E=i(105),N=i.n(E),k=Object(O.a)(m||(m=Object(b.a)(["\n  vertical-align: top;\n"]))),L=Object(O.b)(S.a)(T||(T=Object(b.a)(["\n  background-color: #444;\n  color: white;\n  padding: 16px;\n  position: absolute;\n  top: ",";\n  right: 1em;\n  z-index: 999;\n  transition: top 1s ease;\n  width: 15em;\n"])),(function(e){return e.show?"1em":"-10em"})),y=Object(O.b)(I.a)(v||(v=Object(b.a)(["\n  ","\n"])),k),C=Object(O.b)(N.a)(g||(g=Object(b.a)(["\n  ","\n"])),k);function D(e){var t=e.text,i=e.show,n={NotificationCard:L,BellIcon:y,ErrorIcon:C},a=n.NotificationCard,o=n.BellIcon,s=n.ErrorIcon,r=t.includes("Success")?Object(p.jsx)(o,{}):Object(p.jsx)(s,{});return Object(p.jsxs)(a,{show:i?"true":void 0,children:[r,t]})}D.defaultProps={text:"",show:!1};var P=i(106),F=i.n(P);function _(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{children:"Whoopsies!"}),Object(p.jsxs)("p",{children:["An Issue Tracker for all your Oopsies! ",Object(p.jsx)(f.a,{variant:"outlined",color:"primary",startIcon:Object(p.jsx)(F.a,{}),children:Object(p.jsx)("a",{href:"https://docs.google.com/document/d/1FgaHyxg0d-MKl4OlfG0u36fmp6jM5nZxvI3ZeXUq4vs/edit?usp=sharing",target:"_blank",rel:"noopener noreferrer",children:"SRS"})})]})]})}function V(e){var t=e.viewModel;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(_,{}),Object(p.jsx)("h2",{children:t.formLabel}),Object(p.jsx)(D,{show:t.showNotification,text:t.notificationText}),Object(p.jsx)(d.Provider,{value:t.handleChange,children:Object(p.jsx)(x,{fields:t.fields,handleSubmit:t.handleSubmit})})]})}V.defaultProps={viewModel:{formLabel:"",fields:[],showNotification:!1,notificationText:"",handleSubmit:function(){},handleChange:function(){}}};var M=i(107),A=i(58),R=i(55),H=i(73),K=i.n(H),B=i(108),U=i.n(B);K.a.config.update({region:"us-east-2",endpoint:"https://dynamodb.us-east-2.amazonaws.com",accessKeyId:Object({NODE_ENV:"production",PUBLIC_URL:"/whoopsies",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})["aws-access-key-id"],secretAccessKey:Object({NODE_ENV:"production",PUBLIC_URL:"/whoopsies",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})["aws-secret-access-key"]});var W=new K.a.DynamoDB.DocumentClient,z="Oopsies";function G(e){var t=e.id,i=e.name,n=e.description,a=e.status,o=e.priority,s=e.sprint,r=e.release,c=U()().format(),l={TableName:z,Item:{project:"Whoopsies!",id:parseInt(t,10),name:i,description:n,status:a,priority:o,sprint:s,release:r,dateCreated:c,dateUpdated:c}};return new Promise((function(e,t){W.put(l,(function(i){return i?t(new Error("Unable to add item. ".concat(i))):e()}))}))}function J(){var e={TableName:z};return new Promise((function(t,i){W.scan(e,(function(e,n){return e?i(new Error("Unable to scan table. ".concat(e))):t(n.Items)}))}))}function Y(){return{addTaskToDatabase:G,getTasksFromDatabase:J}}function Z(){return{formLabel:"Task Creation Form",fields:[{fieldId:"id",fieldLabel:"Task ID",fieldType:"text",fieldValue:""},{fieldId:"project",fieldLabel:"Project Name",fieldType:"text",fieldValue:""},{fieldId:"name",fieldLabel:"Task Name",fieldType:"text",fieldValue:""},{fieldId:"description",fieldLabel:"Task Description",fieldType:"text",fieldValue:""},{fieldId:"status",fieldLabel:"Status",fieldType:"select",fieldOptions:["TO DO","IN ANALYSIS","IN DEVELOPMENT","IN TESTING","DONE"],fieldValue:"TO DO"},{fieldId:"priority",fieldLabel:"Priority",fieldType:"select",fieldOptions:["Cosmetic","Low","Medium","High","Showstopper"],fieldValue:"Cosmetic"},{fieldId:"sprint",fieldLabel:"Sprint",fieldType:"text",fieldValue:""},{fieldId:"release",fieldLabel:"Release Date",fieldType:"text",fieldValue:""}]}}var q,X=i(41);function Q(){var e=Object(a.useState)(Z),t=Object(X.a)(e,2),i=t[0],n=t[1],o=Object(a.useState)([]),s=Object(X.a)(o,2),r=s[0],c=s[1];return{formLabel:i.formLabel,fields:i.fields,tasks:r,fieldElements:i,setTasks:c,setFieldElements:n}}function $(){var e=Object(a.useState)(!1),t=Object(X.a)(e,2),i=t[0],n=t[1],o=Object(a.useState)(""),s=Object(X.a)(o,2),r=s[0],c=s[1];return{showNotification:i,notificationText:r,toggleNotification:Object(a.useCallback)((function(e){c(e),n(!0),setTimeout((function(){n(!1)}),3e3)}),[n,c])}}function ee(){var e=Y().addTaskToDatabase,t=Q(),i=t.formLabel,n=t.fields,a=t.tasks,o=t.fieldElements,s=t.setTasks,r=t.setFieldElements,c=$(),l=c.showNotification,d=c.notificationText,f=c.toggleNotification;return{formLabel:i,fields:n,showNotification:l,notificationText:d,handleSubmit:function(t){t.preventDefault();var i={};o.fields.forEach((function(e){Object.assign(i,Object(R.a)({},e.fieldId,e.fieldValue))})),e(i).then((function(){s([].concat(Object(A.a)(a),[i])),f("Successfully added the item!")})).catch((function(e){f(e.toString())})),r(Z)},handleChange:function(e,t){var i=Object(M.a)({},o),n=i.fields.findIndex((function(t){return e===t.fieldId}));i.fields[n].fieldValue=t.target.value,r(i)}}}var te,ie=Object(O.b)(S.a)(q||(q=Object(b.a)(["\n  margin: 10px;\n  padding: 10px;\n"])));function ne(e){for(var t=e.split(" "),i=0,n=0;n<t.length&&i<5;n+=1)t[n].length&&(i+=1);return t.splice(0,n).join(" ")}function ae(e){var t=e.name,i={Card:ie}.Card;return Object(p.jsx)(i,{variant:"outlined",children:ne(t)})}ae.defaultProps={name:"TBD"};var oe=O.b.div(te||(te=Object(b.a)(["\n  border-radius: 4px;\n  background-color: lightgray;\n  padding: 1px 5px 1px 5px;\n"])));function se(e){var t=e.header,i=e.tasks,n={List:oe}.List,a="".concat(t," (").concat(i.length,")");return Object(p.jsxs)(n,{children:[Object(p.jsx)("b",{children:a}),i.map((function(e){return Object(p.jsx)(ae,{name:e.name},e.id)}))]})}se.defaultProps={header:"TITLE NEEDED",tasks:[]};var re,ce=i(568),le=Object(O.b)(ce.a)(re||(re=Object(b.a)(["\n  margin: 0px;\n"])));function de(e){var t=e.viewModel,i={Grid:le}.Grid,n=["TO DO","IN ANALYSIS","IN DEVELOPMENT","IN TESTING","DONE"].map((function(e){var n=t.tasks.filter((function(t){return e===t.status}));return Object(p.jsx)(i,{item:!0,children:Object(p.jsx)(se,{header:e,tasks:n})},e)}));return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(_,{}),Object(p.jsx)(D,{show:t.showNotification,text:t.notificationText}),Object(p.jsx)(i,{container:!0,direction:"row",justify:"center",alignItems:"flex-start",spacing:5,children:n})]})}function fe(e,t){var i=["Cosmetic","Low","Medium","High","Showstopper"];return i.indexOf(e.priority)>i.indexOf(t.priority)?-1:1}function ue(){var e=Y().getTasksFromDatabase,t=Q(),i=t.tasks,n=t.setTasks,o=$(),s=o.showNotification,r=o.notificationText,c=o.toggleNotification;return Object(a.useEffect)((function(){e().then((function(e){var t=Object(A.a)(e).sort(fe);n(t),c("Successfully retrieved items!")})).catch((function(e){c(e.toString())}))}),[e,n,c]),{tasks:i,showNotification:s,notificationText:r}}de.defaultProps={viewModel:{tasks:[],showNotification:!1,notificationText:""}};var be=function(){return Object(p.jsxs)(c.a,{basename:"/",children:[Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{children:Object(p.jsx)(c.b,{to:"/whoopsies/create-task",children:"Create Task"})}),Object(p.jsx)("li",{children:Object(p.jsx)(c.b,{to:"/whoopsies/dashboard",children:"Dashboard"})})]}),Object(p.jsx)(l.a,{path:"/whoopsies/create-task",children:Object(p.jsx)(V,{viewModel:ee()})}),Object(p.jsx)(l.a,{path:"/whoopsies/dashboard",children:Object(p.jsx)(de,{viewModel:ue()})})]})},je=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,572)).then((function(t){var i=t.getCLS,n=t.getFID,a=t.getFCP,o=t.getLCP,s=t.getTTFB;i(e),n(e),a(e),o(e),s(e)}))};r.a.render(Object(p.jsx)(o.a.StrictMode,{children:Object(p.jsx)(be,{})}),document.getElementById("root")),je()},72:function(e,t){}},[[531,1,2]]]);
//# sourceMappingURL=main.2b708979.chunk.js.map