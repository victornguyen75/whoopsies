(this.webpackJsonpwhoopsies=this.webpackJsonpwhoopsies||[]).push([[0],{545:function(e,t,i){"use strict";i.r(t);var n,a,r=i(0),o=i.n(r),l=i(12),s=i.n(l),c=i(56),d=i(14),f=Object(r.createContext)(null),u=i(588),b=i(595),j=i(587),h=i(15),O=i(592),p=i(597),m=i(16),x=Object(m.c)(O.a)(n||(n=Object(h.a)(["\n  margin: 0 10px 10px 0 !important;\n"]))),T=Object(m.c)(p.a)(a||(a=Object(h.a)(["\n  margin-left: 0px !important;\n"])));var v=i(6);function g(e){var t=e.fields,i=e.handleSubmit,n={TextField:x,FormControlLabel:T},a=n.TextField,o=n.FormControlLabel,l=Object(r.useContext)(f);return Object(v.jsx)("form",{onSubmit:function(e){return i(e)},children:t.map((function(e){switch(e.fieldType){case"text":return Object(v.jsx)(a,{label:e.fieldLabel,value:e.fieldValue,size:"small",variant:"outlined",onChange:function(t){return l(e.fieldId,t)}},e.fieldId);case"text-long":return Object(v.jsx)(a,{label:e.fieldLabel,value:e.fieldValue,multiline:!0,fullWidth:!0,rows:5,size:"small",variant:"outlined",onChange:function(t){return l(e.fieldId,t)}},e.fieldId);case"select":return Object(v.jsx)(a,{label:e.fieldLabel,value:e.fieldValue,select:!0,size:"small",variant:"outlined",onChange:function(t){return l(e.fieldId,t)},children:e.fieldOptions.map((function(e){return Object(v.jsx)(j.a,{value:e,children:e},e)}))},e.fieldId);case"button":return Object(v.jsx)(u.a,{variant:"contained",color:"primary",type:"submit",size:"large",children:e.fieldLabel},e.fieldId);case"checkbox":return Object(v.jsx)(o,{label:e.fieldLabel,control:Object(v.jsx)(b.a,{checked:e.fieldValue,onChange:function(t){return l(e.fieldId,t)},color:"primary"})},e.fieldId);default:return null}}))})}g.defaultProps={fields:[],handleSubmit:function(){}};var I,S=i(593),E=Object(m.c)(S.a)(I||(I=Object(h.a)(["\n  position: absolute;\n  top: ",";\n  right: 1em;\n  z-index: 999;\n  transition: top 1s ease !important;\n"])),(function(e){return e.show?"1em":"-10em"}));function w(e){var t=e.text,i=e.show,n={Alert:E}.Alert,a=t.includes("Success")?"success":"error";return Object(v.jsx)(n,{show:i?"true":void 0,severity:a,children:t})}w.defaultProps={text:"",show:!1};var L=i(114),C=i.n(L);function y(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h1",{children:"Whoopsies!"}),Object(v.jsxs)("p",{children:["An Issue Tracker for all your Oopsies! ",Object(v.jsx)(u.a,{variant:"outlined",color:"primary",startIcon:Object(v.jsx)(C.a,{}),children:Object(v.jsx)("a",{href:"https://docs.google.com/document/d/1FgaHyxg0d-MKl4OlfG0u36fmp6jM5nZxvI3ZeXUq4vs/edit?usp=sharing",target:"_blank",rel:"noopener noreferrer",children:"SRS"})})]})]})}function N(e){var t=e.viewModel;return Object(v.jsxs)("div",{"data-testid":"task-creation-page-view",children:[Object(v.jsx)(y,{}),Object(v.jsx)("h2",{children:t.formLabel}),Object(v.jsx)(w,{show:t.showNotification,text:t.notificationText}),Object(v.jsx)(f.Provider,{value:t.handleChange,children:Object(v.jsx)(g,{fields:t.fieldElements,handleSubmit:t.handleSubmit})})]})}N.defaultProps={viewModel:{formLabel:"",fieldElements:[],showNotification:!1,notificationText:"",handleSubmit:function(){},handleChange:function(){}}};var k=i(65),D=i(115),V=i(81),P=i.n(V),_=i(116),A=i.n(_);P.a.config.update({accessKeyId:Object({NODE_ENV:"production",PUBLIC_URL:"/whoopsies",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_AWS_ACCESS_KEY_ID,secretAccessKey:Object({NODE_ENV:"production",PUBLIC_URL:"/whoopsies",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_AWS_SECRET_ACCESS_KEY,region:"us-east-2",endpoint:"https://dynamodb.us-east-2.amazonaws.com"});var F=new P.a.DynamoDB.DocumentClient,R="Oopsies";function M(){var e={TableName:R};return new Promise((function(t,i){F.scan(e,(function(e,n){return e?i(new Error("Unable to scan table. ".concat(e))):t(n.Count+1)}))}))}function K(e,t){var i=t.name,n=t.description,a=t.status,r=t.priority,o=t.sprint,l=t.version,s=t.release,c=A()().format(),d={TableName:R,Item:{project:"Whoopsies!",id:e,name:i,description:n,status:a,priority:r,sprint:o,version:l,release:s,dateCreated:c,dateUpdated:c}};return new Promise((function(e,t){F.put(d,(function(i){return i?t(new Error("Unable to add item. ".concat(i))):e()}))}))}function W(){var e={TableName:R};return new Promise((function(t,i){F.scan(e,(function(e,n){return e?i(new Error("Unable to scan table. ".concat(e))):t(n.Items)}))}))}function H(){return{getLatestTaskId:M,addTaskToDatabase:K,getTasksFromDatabase:W}}var U=i(49);function z(){var e={formLabel:"Task Creation Form",fields:[{fieldId:"name",fieldLabel:"Task Name",fieldType:"text",fieldValue:""},{fieldId:"status",fieldLabel:"Status",fieldType:"select",fieldOptions:["TO DO","IN ANALYSIS","IN DEVELOPMENT","IN TESTING","DONE"],fieldValue:"TO DO"},{fieldId:"priority",fieldLabel:"Priority",fieldType:"select",fieldOptions:["Cosmetic","Low","Medium","High","Showstopper"],fieldValue:"Cosmetic"},{fieldId:"sprint",fieldLabel:"Sprint",fieldType:"text",fieldValue:""},{fieldId:"version",fieldLabel:"Project Version",fieldType:"text",fieldValue:""},{fieldId:"release",fieldLabel:"Release Date",fieldType:"text",fieldValue:""},{fieldId:"description",fieldLabel:"Task Description",fieldType:"text-long",fieldValue:""},{fieldId:"create",fieldLabel:"Create",fieldType:"button",fieldValue:null},{fieldId:"reset",fieldLabel:"Reset the form after creating this task",fieldType:"checkbox",fieldValue:!0}]}.formLabel,t=Object(r.useState)([{fieldId:"name",fieldLabel:"Task Name",fieldType:"text",fieldValue:""},{fieldId:"status",fieldLabel:"Status",fieldType:"select",fieldOptions:["TO DO","IN ANALYSIS","IN DEVELOPMENT","IN TESTING","DONE"],fieldValue:"TO DO"},{fieldId:"priority",fieldLabel:"Priority",fieldType:"select",fieldOptions:["Cosmetic","Low","Medium","High","Showstopper"],fieldValue:"Cosmetic"},{fieldId:"sprint",fieldLabel:"Sprint",fieldType:"text",fieldValue:""},{fieldId:"version",fieldLabel:"Project Version",fieldType:"text",fieldValue:""},{fieldId:"release",fieldLabel:"Release Date",fieldType:"text",fieldValue:""},{fieldId:"description",fieldLabel:"Task Description",fieldType:"text-long",fieldValue:""},{fieldId:"create",fieldLabel:"Create",fieldType:"button",fieldValue:null},{fieldId:"reset",fieldLabel:"Reset the form after creating this task",fieldType:"checkbox",fieldValue:!0}]),i=Object(U.a)(t,2),n=i[0],a=i[1],o=Object(r.useState)([]),l=Object(U.a)(o,2);return{formLabel:e,fieldElements:n,tasks:l[0],setFieldElements:a,setTasks:l[1]}}function B(){var e=Object(r.useState)(!1),t=Object(U.a)(e,2),i=t[0],n=t[1],a=Object(r.useState)(""),o=Object(U.a)(a,2),l=o[0],s=o[1];return{showNotification:i,notificationText:l,toggleNotification:Object(r.useCallback)((function(e){s(e),n(!0),setTimeout((function(){n(!1)}),5e3)}),[n,s])}}function G(){var e=H(),t=e.getLatestTaskId,i=e.addTaskToDatabase,n=z(),a=n.formLabel,r=n.fieldElements,o=n.setFieldElements,l=B(),s=l.showNotification,c=l.notificationText,d=l.toggleNotification;return{formLabel:a,fieldElements:r,showNotification:s,notificationText:c,handleSubmit:function(e){e.preventDefault();var n={};r.forEach((function(e){Object.assign(n,Object(D.a)({},e.fieldId,e.fieldValue))})),t().then((function(e){return i(e,n)})).then((function(){d("Successfully added the item!")})).catch((function(e){d(e.toString())}))},handleChange:function(e,t){var i=Object(k.a)(r),n=i.findIndex((function(t){return e===t.fieldId}));i[n].fieldValue="reset"===e?t.target.checked:t.target.value,o(i)}}}var Y,J,Z=i(590),q=Object(m.c)(Z.a)(Y||(Y=Object(h.a)(["\n  margin: 10px;\n  padding: 10px;\n"])));function X(e){for(var t=e.split(" "),i=0,n=0;n<t.length&&i<5;n+=1)t[n].length&&(i+=1);return t.splice(0,n).join(" ")}function Q(e){var t=e.name,i={Card:q}.Card;return Object(v.jsx)(i,{children:X(t)})}Q.defaultProps={name:"TBD"};var $=m.c.div(J||(J=Object(h.a)(["\n  border-radius: 4px;\n  background-color: lightgray;\n  padding: 5px 5px 1px 5px;\n  width: 245px;\n"])));function ee(e){var t=e.header,i=e.tasks,n={List:$}.List,a="".concat(t," (").concat(i.length,")");return Object(v.jsxs)(n,{children:[Object(v.jsx)("b",{children:a}),i.map((function(e){return Object(v.jsx)(Q,{name:e.name},e.id)}))]})}ee.defaultProps={header:"TITLE NEEDED",tasks:[]};var te,ie=i(591),ne=Object(m.c)(ie.a)(te||(te=Object(h.a)([""])));function ae(e){var t=e.viewModel,i={Grid:ne}.Grid,n=["TO DO","IN ANALYSIS","IN DEVELOPMENT","IN TESTING","DONE"].map((function(e){var n=t.tasks.filter((function(t){return e===t.status}));return Object(v.jsx)(i,{item:!0,children:Object(v.jsx)(ee,{header:e,tasks:n})},e)}));return Object(v.jsxs)("div",{"data-testid":"dashboard-page-view",children:[Object(v.jsx)(y,{}),Object(v.jsx)(w,{show:t.showNotification,text:t.notificationText}),Object(v.jsx)(i,{container:!0,direction:"row",justify:"center",alignItems:"flex-start",spacing:2,children:n})]})}function re(e,t){var i=["Cosmetic","Low","Medium","High","Showstopper"];return i.indexOf(e.priority)>i.indexOf(t.priority)?-1:1}function oe(){var e=H().getTasksFromDatabase,t=z(),i=t.tasks,n=t.setTasks,a=B(),o=a.showNotification,l=a.notificationText,s=a.toggleNotification;return Object(r.useEffect)((function(){e().then((function(e){var t=Object(k.a)(e).sort(re);n(t),s("Successfully retrieved the tasks!")})).catch((function(e){s(e.toString())}))}),[e,n,s]),{tasks:i,showNotification:o,notificationText:l}}ae.defaultProps={viewModel:{tasks:[],showNotification:!1,notificationText:""}};var le,se,ce,de,fe,ue=i(586),be=i(547),je=i(596),he=i(117),Oe=i.n(he),pe=i(118),me=i.n(pe),xe=Object(m.c)(je.a)(le||(le=Object(h.a)(["\n  * {\n    text-decoration: inherit;\n    color: inherit;\n    cursor: auto;\n  }\n"]))),Te=Object(m.b)(se||(se=Object(h.a)(["\n  vertical-align: top;\n  font-size: 1.1rem !important;\n  margin-right: 8px;\n"]))),ve=Object(m.c)(Oe.a)(ce||(ce=Object(h.a)(["\n  ","\n"])),Te),ge=Object(m.c)(me.a)(de||(de=Object(h.a)(["\n  ","\n"])),Te);function Ie(){var e={Drawer:xe,DashboardIcon:ve,CreateTaskIcon:ge},t=e.Drawer,i=e.DashboardIcon,n=e.CreateTaskIcon;return Object(v.jsx)(t,{variant:"permanent",children:Object(v.jsxs)(ue.a,{children:[Object(v.jsx)(be.a,{button:!0,children:Object(v.jsxs)(c.b,{to:"/whoopsies/dashboard",children:[Object(v.jsx)(i,{}),"Dashboard"]})}),Object(v.jsx)(be.a,{button:!0,children:Object(v.jsxs)(c.b,{to:"/whoopsies/create-task",children:[Object(v.jsx)(n,{}),"Create Task"]})})]})})}var Se=m.c.main(fe||(fe=Object(h.a)(["\n  margin-left: 10em;\n"])));var Ee,we=function(){var e={Content:Se}.Content;return Object(v.jsxs)(c.a,{basename:"/",children:[Object(v.jsx)(Ie,{}),Object(v.jsxs)(e,{children:[Object(v.jsx)(d.a,{path:"/whoopsies/dashboard",children:Object(v.jsx)(ae,{viewModel:oe()})}),Object(v.jsx)(d.a,{path:"/whoopsies/create-task",children:Object(v.jsx)(N,{viewModel:G()})})]})]})},Le=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,599)).then((function(t){var i=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;i(e),n(e),a(e),r(e),o(e)}))};var Ce=Object(m.a)(Ee||(Ee=Object(h.a)(["\n    * {\n      font-family: 'PT Sans', sans-serif;\n    }\n  "])));s.a.render(Object(v.jsxs)(o.a.StrictMode,{children:[Object(v.jsx)(Ce,{}),Object(v.jsx)(we,{})]}),document.getElementById("root")),Le()},80:function(e,t){}},[[545,1,2]]]);
//# sourceMappingURL=main.14aec163.chunk.js.map