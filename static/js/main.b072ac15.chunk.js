(this.webpackJsonpwhoopsies=this.webpackJsonpwhoopsies||[]).push([[0],{531:function(e,t,n){"use strict";n.r(t);var i,a=n(0),o=n.n(a),r=n(11),s=n.n(r),c=n(59),l=n(14),d=Object(a.createContext)(null),f=n(566),u=n(570),b=n(17),j=n(569),O=n(18),h=Object(O.c)(j.a)(i||(i=Object(b.a)(["\n  margin-right: 1em;\n"])));var p=n(5);function m(e){var t=e.fields,n=e.handleSubmit,i={TextField:h}.TextField,o=Object(a.useContext)(d),r=t.map((function(e){switch(e.fieldType){case"text":return Object(p.jsx)(i,{label:e.fieldLabel,variant:"filled",size:"small",value:e.fieldValue,onChange:function(t){return o(e.fieldId,t)}},e.fieldId);case"select":return Object(p.jsx)(i,{select:!0,label:e.fieldLabel,variant:"filled",size:"small",value:e.fieldValue,onChange:function(t){return o(e.fieldId,t)},children:e.fieldOptions.map((function(e){return Object(p.jsx)(u.a,{value:e,children:e},e)}))},e.fieldId);default:return null}}));return Object(p.jsxs)("form",{onSubmit:function(e){return n(e)},children:[r,Object(p.jsx)(f.a,{variant:"contained",color:"primary",type:"submit",size:"large",children:"Create"})]})}m.defaultProps={fields:[],handleSubmit:function(){}};var x,T,v,g,S=n(567),E=n(104),w=n.n(E),I=n(105),C=n.n(I),N=Object(O.b)(x||(x=Object(b.a)(["\n  vertical-align: top;\n"]))),L=Object(O.c)(S.a)(T||(T=Object(b.a)(["\n  background-color: #444;\n  color: white;\n  padding: 16px;\n  position: absolute;\n  top: ",";\n  right: 1em;\n  z-index: 999;\n  transition: top 1s ease;\n  width: 15em;\n"])),(function(e){return e.show?"1em":"-10em"})),k=Object(O.c)(w.a)(v||(v=Object(b.a)(["\n  ","\n"])),N),D=Object(O.c)(C.a)(g||(g=Object(b.a)(["\n  ","\n"])),N);function _(e){var t=e.text,n=e.show,i={NotificationCard:L,BellIcon:k,ErrorIcon:D},a=i.NotificationCard,o=i.BellIcon,r=i.ErrorIcon,s=t.includes("Success")?Object(p.jsx)(o,{}):Object(p.jsx)(r,{});return Object(p.jsxs)(a,{show:n?"true":void 0,children:[s,t]})}_.defaultProps={text:"",show:!1};var y=n(106),P=n.n(y);function F(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{children:"Whoopsies!"}),Object(p.jsxs)("p",{children:["An Issue Tracker for all your Oopsies! ",Object(p.jsx)(f.a,{variant:"outlined",color:"primary",startIcon:Object(p.jsx)(P.a,{}),children:Object(p.jsx)("a",{href:"https://docs.google.com/document/d/1FgaHyxg0d-MKl4OlfG0u36fmp6jM5nZxvI3ZeXUq4vs/edit?usp=sharing",target:"_blank",rel:"noopener noreferrer",children:"SRS"})})]})]})}function A(e){var t=e.viewModel;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(F,{}),Object(p.jsx)("h2",{children:t.formLabel}),Object(p.jsx)(_,{show:t.showNotification,text:t.notificationText}),Object(p.jsx)(d.Provider,{value:t.handleChange,children:Object(p.jsx)(m,{fields:t.fields,handleSubmit:t.handleSubmit})})]})}A.defaultProps={viewModel:{formLabel:"",fields:[],showNotification:!1,notificationText:"",handleSubmit:function(){},handleChange:function(){}}};var V=n(107),M=n(58),R=n(55),K=n(73),W=n.n(K),H=n(108),U=n.n(H);W.a.config.update({accessKeyId:Object({NODE_ENV:"production",PUBLIC_URL:"/whoopsies",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_AWS_ACCESS_KEY_ID,secretAccessKey:Object({NODE_ENV:"production",PUBLIC_URL:"/whoopsies",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_AWS_SECRET_ACCESS_KEY,region:"us-east-2",endpoint:"https://dynamodb.us-east-2.amazonaws.com"});var B=new W.a.DynamoDB.DocumentClient,z="Oopsies";function G(){var e={TableName:z};return new Promise((function(t,n){B.scan(e,(function(e,i){return e?n(new Error("Unable to scan table. ".concat(e))):t(i.Count+1)}))}))}function Y(e,t){var n=t.name,i=t.description,a=t.status,o=t.priority,r=t.sprint,s=t.release,c=U()().format(),l={TableName:z,Item:{project:"Whoopsies!",id:e,name:n,description:i,status:a,priority:o,sprint:r,release:s,dateCreated:c,dateUpdated:c}};return new Promise((function(e,t){B.put(l,(function(n){return n?t(new Error("Unable to add item. ".concat(n))):e()}))}))}function J(){var e={TableName:z};return new Promise((function(t,n){B.scan(e,(function(e,i){return e?n(new Error("Unable to scan table. ".concat(e))):t(i.Items)}))}))}function Z(){return{getLatestTaskId:G,addTaskToDatabase:Y,getTasksFromDatabase:J}}function q(){return{formLabel:"Task Creation Form",fields:[{fieldId:"name",fieldLabel:"Task Name",fieldType:"text",fieldValue:""},{fieldId:"description",fieldLabel:"Task Description",fieldType:"text",fieldValue:""},{fieldId:"status",fieldLabel:"Status",fieldType:"select",fieldOptions:["TO DO","IN ANALYSIS","IN DEVELOPMENT","IN TESTING","DONE"],fieldValue:"TO DO"},{fieldId:"priority",fieldLabel:"Priority",fieldType:"select",fieldOptions:["Cosmetic","Low","Medium","High","Showstopper"],fieldValue:"Cosmetic"},{fieldId:"sprint",fieldLabel:"Sprint",fieldType:"text",fieldValue:""},{fieldId:"release",fieldLabel:"Release Date",fieldType:"text",fieldValue:""}]}}var X,Q=n(41);function $(){var e=Object(a.useState)(q),t=Object(Q.a)(e,2),n=t[0],i=t[1],o=Object(a.useState)([]),r=Object(Q.a)(o,2),s=r[0],c=r[1];return{formLabel:n.formLabel,fields:n.fields,tasks:s,fieldElements:n,setTasks:c,setFieldElements:i}}function ee(){var e=Object(a.useState)(!1),t=Object(Q.a)(e,2),n=t[0],i=t[1],o=Object(a.useState)(""),r=Object(Q.a)(o,2),s=r[0],c=r[1];return{showNotification:n,notificationText:s,toggleNotification:Object(a.useCallback)((function(e){c(e),i(!0),setTimeout((function(){i(!1)}),3e3)}),[i,c])}}function te(){var e=Z(),t=e.getLatestTaskId,n=e.addTaskToDatabase,i=$(),a=i.formLabel,o=i.fields,r=i.tasks,s=i.fieldElements,c=i.setTasks,l=i.setFieldElements,d=ee(),f=d.showNotification,u=d.notificationText,b=d.toggleNotification;return{formLabel:a,fields:o,showNotification:f,notificationText:u,handleSubmit:function(e){e.preventDefault();var i={};s.fields.forEach((function(e){Object.assign(i,Object(R.a)({},e.fieldId,e.fieldValue))})),t().then((function(e){return n(e,i)})).then((function(){c([].concat(Object(M.a)(r),[i])),b("Successfully added the item!")})).catch((function(e){b(e.toString())})),l(q)},handleChange:function(e,t){var n=Object(V.a)({},s),i=n.fields.findIndex((function(t){return e===t.fieldId}));n.fields[i].fieldValue=t.target.value,l(n)}}}var ne,ie=Object(O.c)(S.a)(X||(X=Object(b.a)(["\n  margin: 10px;\n  padding: 10px;\n"])));function ae(e){for(var t=e.split(" "),n=0,i=0;i<t.length&&n<5;i+=1)t[i].length&&(n+=1);return t.splice(0,i).join(" ")}function oe(e){var t=e.name,n={Card:ie}.Card;return Object(p.jsx)(n,{variant:"outlined",children:ae(t)})}oe.defaultProps={name:"TBD"};var re=O.c.div(ne||(ne=Object(b.a)(["\n  border-radius: 4px;\n  background-color: lightgray;\n  padding: 5px 5px 1px 5px;\n"])));function se(e){var t=e.header,n=e.tasks,i={List:re}.List,a="".concat(t," (").concat(n.length,")");return Object(p.jsxs)(i,{children:[Object(p.jsx)("b",{children:a}),n.map((function(e){return Object(p.jsx)(oe,{name:e.name},e.id)}))]})}se.defaultProps={header:"TITLE NEEDED",tasks:[]};var ce,le=n(568),de=Object(O.c)(le.a)(ce||(ce=Object(b.a)(["\n  margin: 0px;\n"])));function fe(e){var t=e.viewModel,n={Grid:de}.Grid,i=["TO DO","IN ANALYSIS","IN DEVELOPMENT","IN TESTING","DONE"].map((function(e){var i=t.tasks.filter((function(t){return e===t.status}));return Object(p.jsx)(n,{item:!0,children:Object(p.jsx)(se,{header:e,tasks:i})},e)}));return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(F,{}),Object(p.jsx)(_,{show:t.showNotification,text:t.notificationText}),Object(p.jsx)(n,{container:!0,direction:"row",justify:"center",alignItems:"flex-start",spacing:5,children:i})]})}function ue(e,t){var n=["Cosmetic","Low","Medium","High","Showstopper"];return n.indexOf(e.priority)>n.indexOf(t.priority)?-1:1}function be(){var e=Z().getTasksFromDatabase,t=$(),n=t.tasks,i=t.setTasks,o=ee(),r=o.showNotification,s=o.notificationText,c=o.toggleNotification;return Object(a.useEffect)((function(){e().then((function(e){var t=Object(M.a)(e).sort(ue);i(t),c("Successfully retrieved items!")})).catch((function(e){c(e.toString())}))}),[e,i,c]),{tasks:n,showNotification:r,notificationText:s}}fe.defaultProps={viewModel:{tasks:[],showNotification:!1,notificationText:""}};var je,Oe=function(){return Object(p.jsxs)(c.a,{basename:"/",children:[Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{children:Object(p.jsx)(c.b,{to:"/whoopsies/create-task",children:"Create Task"})}),Object(p.jsx)("li",{children:Object(p.jsx)(c.b,{to:"/whoopsies/dashboard",children:"Dashboard"})})]}),Object(p.jsx)(l.a,{path:"/whoopsies/create-task",children:Object(p.jsx)(A,{viewModel:te()})}),Object(p.jsx)(l.a,{path:"/whoopsies/dashboard",children:Object(p.jsx)(fe,{viewModel:be()})})]})},he=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,572)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),i(e),a(e),o(e),r(e)}))};var pe=Object(O.a)(je||(je=Object(b.a)(["\n    * {\n      font-family: 'PT Sans', sans-serif;\n    }\n  "])));s.a.render(Object(p.jsxs)(o.a.StrictMode,{children:[Object(p.jsx)(pe,{}),Object(p.jsx)(Oe,{})]}),document.getElementById("root")),he()},72:function(e,t){}},[[531,1,2]]]);
//# sourceMappingURL=main.b072ac15.chunk.js.map